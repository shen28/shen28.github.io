<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>啊深的博客</title>
  <subtitle>这个人很懒，神马都没有写…</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://javazgs.com/"/>
  <updated>2017-02-21T15:01:26.101Z</updated>
  <id>http://javazgs.com/</id>
  
  <author>
    <name>Shen</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>躲过了初一，逃过了十五</title>
    <link href="http://javazgs.com/2017/02/14/0214%E5%B9%BF%E5%B7%9E/"/>
    <id>http://javazgs.com/2017/02/14/0214广州/</id>
    <published>2017-02-13T16:24:35.044Z</published>
    <updated>2017-02-21T15:01:26.101Z</updated>
    
    <content type="html"><![CDATA[<h1 id="本命年"><a href="#本命年" class="headerlink" title="本命年"></a>本命年</h1><p>暂且不用去想太多破事，认真过好今年</p>
<p>E时光上的广州<br><img src="\assets\articleImg\fyetime.jpg" alt="方圆E时光上的广州"></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;本命年&quot;&gt;&lt;a href=&quot;#本命年&quot; class=&quot;headerlink&quot; title=&quot;本命年&quot;&gt;&lt;/a&gt;本命年&lt;/h1&gt;&lt;p&gt;暂且不用去想太多破事，认真过好今年&lt;/p&gt;
&lt;p&gt;E时光上的广州&lt;br&gt;&lt;img src=&quot;\assets\articleImg\f
    
    </summary>
    
    
      <category term="其他" scheme="http://javazgs.com/tags/%E5%85%B6%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>鸡年大吉</title>
    <link href="http://javazgs.com/2017/01/27/%E9%99%A4%E5%A4%95/"/>
    <id>http://javazgs.com/2017/01/27/除夕/</id>
    <published>2017-01-27T07:22:50.789Z</published>
    <updated>2017-01-27T14:34:36.807Z</updated>
    
    <content type="html"><![CDATA[<h1 id="2017"><a href="#2017" class="headerlink" title="2017"></a>2017</h1><p>除夕<br>辞旧迎新<br>新年快乐<br><img src="\assets\articleImg\chuxi.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;2017&quot;&gt;&lt;a href=&quot;#2017&quot; class=&quot;headerlink&quot; title=&quot;2017&quot;&gt;&lt;/a&gt;2017&lt;/h1&gt;&lt;p&gt;除夕&lt;br&gt;辞旧迎新&lt;br&gt;新年快乐&lt;br&gt;&lt;img src=&quot;\assets\articleImg\chuxi.png&quot; 
    
    </summary>
    
    
      <category term="其他" scheme="http://javazgs.com/tags/%E5%85%B6%E4%BB%96/"/>
    
  </entry>
  
  <entry>
    <title>Solr全文检索</title>
    <link href="http://javazgs.com/2017/01/11/solr%E5%85%A8%E6%96%87%E6%A3%80%E7%B4%A2/"/>
    <id>http://javazgs.com/2017/01/11/solr全文检索/</id>
    <published>2017-01-11T02:15:37.099Z</published>
    <updated>2017-01-11T02:30:05.984Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p> 时间又过去了好久，最近在鼓捣微信开发停不来下…..在上一篇博文记录了使用redis为商城系统添加缓存服务，以提高网站的访问速度和性能。另外，我们很容易注意到搜索服务在商城网站中是必不可少的，事实上，在内容繁多的一般网站业也会有搜索功能，而这里很多人就想到Lucene或Solr。</p>
</blockquote>
<h5 id="一、Lucene和Solr"><a href="#一、Lucene和Solr" class="headerlink" title="一、Lucene和Solr"></a>一、Lucene和Solr</h5><p>一说到全文检索总会提到Lucene和Solr，但这两者有什么区别，<a href="http://lucene.apache.org/" target="_blank">官网</a>上已经解释了很清楚：</p>
<blockquote>
<ul>
<li>Lucene Core, our flagship sub-project, provides Java-based indexing and search technology, as well as spellchecking, hit highlighting and advanced analysis/tokenization capabilities.</li>
<li>Solr<sup>TM</sup> is a high performance search server built using Lucene Core, with XML/HTTP and JSON/Python/Ruby APIs, hit highlighting, faceted search, caching, replication, and a web admin interface.</li>
</ul>
</blockquote>
<p>说白了Lucene是个Java Library，而Solr是一个基于Lucene的全文搜索服务器。如果使用Lucene需要自行实现一堆东西，但更灵活；Solr作为企业级的搜索引擎系统，使用方便。商城这里用solr练手，实际的商城网站如京东或淘宝，当然，肯定是其他高大上的东西了。<a id="more"></a></p>
<h5 id="二、安装Solr"><a href="#二、安装Solr" class="headerlink" title="二、安装Solr"></a>二、安装Solr</h5><ol>
<li><p>先到Solr官网<a href="http://lucene.apache.org/solr/" target="_blank">下载</a>,Solr的版本基本是和Lucene一起更新的，不就前看到的时候5.5.0版，现在都到6.3.0版了。<br>商城教程使用的tomcat和solr版本都比较老，这里直接用tomcat8和solr6.3.0。在高版本solr中原商城教程有些方法已经过时，不推荐使用，这里会重新实现一遍。</p>
</li>
<li><p>解压solr压缩包，可以看到几个文件夹，有常规的docs文档、licenses版本信息和example例子。bin目录下是命令操作区，dos下在本目录执行 <strong>solr start</strong> 快速启动solr，在浏览器输入 localhost:8983 可看到solr的基本操作页面，这里我们不直接启动，而是将solr发布到tomcat。contrib文件包含了一些扩展工具包，dist是solr编译之后的目标文件夹，包含各类jar包，server文件夹即应用文件夹。</p>
</li>
<li><p>将solr-6.3.0\server\solr-webapp下的webapp文件复制到tomcat的webapps下并重命名为solr，即当成一个发布的工程。</p>
</li>
<li><p>将solr-6.3.0\server\lib\ext下的文件复制到刚重命名的solr工程中 WEB-INF\lib 目录下，在WEB-INF创建classes文件夹，将solr-6.3.0\server\resources下的log4j.properties复制到classes文件夹中，这些都是一些日志相关的东西。</p>
</li>
<li><p>接着需要创建一个solr home，随意在某个目录下创建一个文件夹并命名为solr_home，例如D盘下D:\solr_home，然后将solr-6.3.0\server\solr文件夹复制过来。编辑solr工程web.xml文件，指定solr home的路径为D:\solr_home。索引库默认存放在这个文件夹，并包含刚复制过来分配置文件。</p>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">env-entry</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">env-entry-name</span>&gt;</span>solr/home<span class="tag">&lt;/<span class="name">env-entry-name</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">env-entry-value</span>&gt;</span>D:/solr_home/solr<span class="tag">&lt;/<span class="name">env-entry-value</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">env-entry-type</span>&gt;</span>java.lang.String<span class="tag">&lt;/<span class="name">env-entry-type</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">env-entry</span>&gt;</span></div></pre></td></tr></table></figure>
<ol>
<li>尝试访问<a href="http://localhost:8080/solr/index.html" target="_blank">http://localhost:8080/solr/index.html</a>报错403，资源拒绝访问，回到solr工程的web.xml文件，可以看到有这么一段配置</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Get rid of error message --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">security-constraint</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">web-resource-collection</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">web-resource-name</span>&gt;</span>Disable TRACE<span class="tag">&lt;/<span class="name">web-resource-name</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">http-method</span>&gt;</span>TRACE<span class="tag">&lt;/<span class="name">http-method</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">web-resource-collection</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">auth-constraint</span>/&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">security-constraint</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">security-constraint</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">web-resource-collection</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">web-resource-name</span>&gt;</span>Enable everything but TRACE<span class="tag">&lt;/<span class="name">web-resource-name</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">http-method-omission</span>&gt;</span>TRACE<span class="tag">&lt;/<span class="name">http-method-omission</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">web-resource-collection</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">security-constraint</span>&gt;</span></div></pre></td></tr></table></figure>
<p>注释掉本段配置，开放访问权限就能正常访问。</p>
<h5 id="三、创建core"><a href="#三、创建core" class="headerlink" title="三、创建core"></a>三、创建core</h5><ol>
<li><p>将solr-6.3.0/dist中的solr-dataimporthandler、solr-dataimporthandler-extras的jar包复制到tomcat\webapps\solr\WEB-INF\lib目录下；</p>
</li>
<li><p>在D:\solr_home\solr下创建taotao_core文件夹，并在taotao_core下创建data和conf文件夹。将solr-6.3.0\example\example-DIH\solr\solr\conf所有文件和文件夹复制到D:\solr_home\solr\taotao_core\conf目录下；</p>
</li>
<li><p>访问solr工程，创建core，instanceDir和name填core文件夹的名字，即taotao_core。</p>
</li>
</ol>
<h5 id="四、配置IK中文分词器"><a href="#四、配置IK中文分词器" class="headerlink" title="四、配置IK中文分词器"></a>四、配置IK中文分词器</h5><ol>
<li><p>下载跟solr对应版本的IK分词器<a href="http://download.csdn.net/detail/u012809062/9730367" target="_blank" rel="external">IK-analyze-solr6.3</a>，解压后将jar包复制到solr工程WEB-INF\lib目录下，将IKAnalyzer.cfg.xml配置文件和mydict.dic、stopword.dic两个词典复制到到solr工程WEB-INF\classes目录下。</p>
</li>
<li><p>配置业务字段：修改D:\solr_home\solr\taotao_core\conf下的managed-schema文件<br>在底部<strong>&lt; /schema&gt;</strong>线加上</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"text_ik"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">class</span>=<span class="string">"org.wltea.analyzer.lucene.IKAnalyzer"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"item_title"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"item_sell_point"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"item_price"</span>  <span class="attr">type</span>=<span class="string">"long"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"item_image"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">indexed</span>=<span class="string">"false"</span> <span class="attr">stored</span>=<span class="string">"true"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"item_category_name"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"item_desc"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"item_keywords"</span> <span class="attr">type</span>=<span class="string">"text_ik"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"false"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">copyField</span> <span class="attr">source</span>=<span class="string">"item_title"</span> <span class="attr">dest</span>=<span class="string">"item_keywords"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">copyField</span> <span class="attr">source</span>=<span class="string">"item_sell_point"</span> <span class="attr">dest</span>=<span class="string">"item_keywords"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">copyField</span> <span class="attr">source</span>=<span class="string">"item_category_name"</span> <span class="attr">dest</span>=<span class="string">"item_keywords"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">copyField</span> <span class="attr">source</span>=<span class="string">"item_desc"</span> <span class="attr">dest</span>=<span class="string">"item_keywords"</span>/&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>重启服务器，选择taotao_core点击分词器 analysis，FieldType选择item_desc,贴上一段文本分析测试<br><img src="http://img.blog.csdn.net/20170111091018269?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMjgwOTA2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
</li>
</ol>
<h5 id="五、在taotao-search整合并使用solr"><a href="#五、在taotao-search整合并使用solr" class="headerlink" title="五、在taotao-search整合并使用solr"></a>五、在taotao-search整合并使用solr</h5><ol>
<li>创建taotao-search工程，同样数据库、SpringMvc照着配置，没什么好说的，applicationContext-solr.xml需要修改一下，因为httpSolrServer在6.3版本已经过时了，换成HttpSolrClient连接solr服务。从原来的HttpSolrServer可以看到,类已经deprecated了，改为使用HttpSolrClient<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * <span class="doctag">@deprecated</span> Use &#123;<span class="doctag">@link</span> org.apache.solr.client.solrj.impl.HttpSolrClient&#125;</div><div class="line"> */</div><div class="line"><span class="meta">@Deprecated</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpSolrServer</span> <span class="keyword">extends</span> <span class="title">HttpSolrClient</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HttpSolrServer</span><span class="params">(String baseURL)</span> </span>&#123;</div><div class="line">    <span class="keyword">super</span>(baseURL);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">HttpSolrServer</span><span class="params">(String baseURL, HttpClient client)</span> </span>&#123;</div><div class="line">	<span class="keyword">super</span>(baseURL, client);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">HttpSolrServer</span><span class="params">(String baseURL, HttpClient client, ResponseParser parser)</span> </span>&#123;</div><div class="line">	<span class="keyword">super</span>(baseURL, client, parser);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>再看下HttpSolrClient类中一个地方，baseURL参数依旧，注释给了个例子，如果是标准的solr玩意，照着这个规则配，当我们的solr是发布到tomcat的，一会配的url不行就改下<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">   * <span class="doctag">@param</span> baseURL</div><div class="line">   *          The URL of the Solr server. For example, "</div><div class="line">   *          &lt;code&gt;http://localhost:8983/solr/&lt;/code&gt;" if you are using the</div><div class="line">   *          standard distribution Solr webapp on your local machine.</div><div class="line">   */</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="title">HttpSolrClient</span><span class="params">(String baseURL)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>(baseURL, <span class="keyword">null</span>, <span class="keyword">new</span> BinaryResponseParser());</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p>applicationContext-solr.xml中bean的配置<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 配置SolrServer对象 --&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 单机版 --&gt;</span></div><div class="line">	<span class="comment">&lt;!-- &lt;bean id="HttpSolrClient" class="org.apache.solr.client.solrj.impl.HttpSolrServer"&gt; --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"HttpSolrClient"</span> <span class="attr">class</span>=<span class="string">"org.apache.solr.client.solrj.impl.HttpSolrClient"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">"baseURL"</span> <span class="attr">value</span>=<span class="string">"$&#123;SOLR.SERVER.URL&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 集群版 --&gt;</span></div><div class="line">	<span class="comment">&lt;!-- &lt;bean id="cloudSolrServer" class="org.apache.solr.client.solrj.impl.CloudSolrServer"&gt;</span></div><div class="line">		&lt;constructor-arg name="zkHost" value="192.168.25.154:2181,192.168.25.154:2182,192.168.25.154:2183"&gt;&lt;/constructor-arg&gt;</div><div class="line">		&lt;property name="defaultCollection" value="collection2"&gt;&lt;/property&gt;</div><div class="line">	&lt;/bean&gt; --&gt;</div></pre></td></tr></table></figure></p>
<p>其中SOLR.SERVER.URL变量的配置在resource.properties中配置,指向solr下的core就是了，正常连接<a href="http://localhost:8080/solr/index.html#/taotao_core" target="_blank" rel="external">http://localhost:8080/solr/index.html#/taotao_core</a> 的<strong>index.html#</strong>去掉，如果在tomcat的server xml配了根路径，没有index.html，中间的#/同样需要去掉<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SOLR.SERVER.URL=http://localhost:8080/solr/taotao_core</div></pre></td></tr></table></figure></p>
<p>ItemServiceImpl改为注入HttpSolrClient<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//private SolrServer solrServer;//过时方法，废弃不用</span></div><div class="line"><span class="meta">@Autowired</span></div><div class="line"><span class="keyword">private</span> HttpSolrClient solrServer;<span class="comment">//使用HttpSolrClient，实例化名称solrServer懒得改，注意</span></div></pre></td></tr></table></figure></p>
<p>SearchDaoImpl搜索服务同理换下HttpSolrClient<br>访问<a href="http://localhost:8083/search/manager/importall" target="_blank" rel="external">http://localhost:8083/search/manager/importall</a> 导入数据，成功状态200，数据多可能比较慢<br><img src="http://img.blog.csdn.net/20170111091433612?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMjgwOTA2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>query一下看看导进来那些东东，可以看到查到商品了<br><img src="http://img.blog.csdn.net/20170111091519159?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMjgwOTA2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br>搜下“移动电源试试” <a href="http://localhost:8083/search/query?q=移动电源&amp;page=3&amp;rows=15" target="_blank" rel="external">http://localhost:8083/search/query?q=移动电源&amp;page=3&amp;rows=15</a><br><img src="http://img.blog.csdn.net/20170111091549666?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMjgwOTA2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h5 id="六、发布搜索服务到taotao-portal"><a href="#六、发布搜索服务到taotao-portal" class="headerlink" title="六、发布搜索服务到taotao-portal"></a>六、发布搜索服务到taotao-portal</h5><ol>
<li><p>在taotao-portal资源文件resource.properties配置搜索服务连接</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SEARCH_BASE_URL=http://localhost:8083/search/query</div></pre></td></tr></table></figure>
</li>
<li><p>业务照搬，或根据自己的需要修改。感觉事实上非要建个search工程实在是…封装个类足以。测试搜索如下<br><img src="http://img.blog.csdn.net/20170111093524121?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMjgwOTA2Mg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt; 时间又过去了好久，最近在鼓捣微信开发停不来下…..在上一篇博文记录了使用redis为商城系统添加缓存服务，以提高网站的访问速度和性能。另外，我们很容易注意到搜索服务在商城网站中是必不可少的，事实上，在内容繁多的一般网站业也会有搜索功能，而这里很多人就想到Lucene或Solr。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&quot;一、Lucene和Solr&quot;&gt;&lt;a href=&quot;#一、Lucene和Solr&quot; class=&quot;headerlink&quot; title=&quot;一、Lucene和Solr&quot;&gt;&lt;/a&gt;一、Lucene和Solr&lt;/h5&gt;&lt;p&gt;一说到全文检索总会提到Lucene和Solr，但这两者有什么区别，&lt;a href=&quot;http://lucene.apache.org/&quot; target=&quot;_blank&quot;&gt;官网&lt;/a&gt;上已经解释了很清楚：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Lucene Core, our flagship sub-project, provides Java-based indexing and search technology, as well as spellchecking, hit highlighting and advanced analysis/tokenization capabilities.&lt;/li&gt;
&lt;li&gt;Solr&lt;sup&gt;TM&lt;/sup&gt; is a high performance search server built using Lucene Core, with XML/HTTP and JSON/Python/Ruby APIs, hit highlighting, faceted search, caching, replication, and a web admin interface.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;说白了Lucene是个Java Library，而Solr是一个基于Lucene的全文搜索服务器。如果使用Lucene需要自行实现一堆东西，但更灵活；Solr作为企业级的搜索引擎系统，使用方便。商城这里用solr练手，实际的商城网站如京东或淘宝，当然，肯定是其他高大上的东西了。
    
    </summary>
    
    
      <category term="Solr" scheme="http://javazgs.com/tags/Solr/"/>
    
  </entry>
  
  <entry>
    <title>给博客换个主题</title>
    <link href="http://javazgs.com/2016/12/29/%E7%BB%99%E5%8D%9A%E5%AE%A2%E6%8D%A2%E4%B8%AA%E4%B8%BB%E9%A2%98/"/>
    <id>http://javazgs.com/2016/12/29/给博客换个主题/</id>
    <published>2016-12-28T16:20:54.229Z</published>
    <updated>2017-01-11T02:15:50.162Z</updated>
    
    <content type="html"><![CDATA[<p>搭好了博客之后，想把博客换了个hexo主题，挑来挑去最后选了Litten的Yilia主题。事实好多主题都做得很棒，现在不管是网站和移动端的应用，都很注重页面展示和交互体验，由此前端的技术也是日新月异，作为一个后端，看得真是眼花缭乱。</p>
<p>转眼间2016也即将过去了，这年毕业了，开始工作，真正地靠自己生活着，做了许多事情，也学会很多东西。整体上马马虎虎，但事实还有许多事情没有做好，找个时间再写个年终总结吧。</p>
<ul>
<li>加首歌试试</li>
</ul>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=848867&auto=0&height=66"></iframe>

<hr>
<p>markdown真是好用啊。顺便加上多说评论。</p>
<p><strong>以下测试</strong>    <a id="more"></a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	 System.out.println(<span class="string">"欢迎来到啊深的博客。"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>故人西辞黄鹤楼，烟花三月下扬州。孤帆远影碧空尽，惟见长江天际流。</p>
</blockquote>
<p>16/12/29</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;搭好了博客之后，想把博客换了个hexo主题，挑来挑去最后选了Litten的Yilia主题。事实好多主题都做得很棒，现在不管是网站和移动端的应用，都很注重页面展示和交互体验，由此前端的技术也是日新月异，作为一个后端，看得真是眼花缭乱。&lt;/p&gt;
&lt;p&gt;转眼间2016也即将过去了，这年毕业了，开始工作，真正地靠自己生活着，做了许多事情，也学会很多东西。整体上马马虎虎，但事实还有许多事情没有做好，找个时间再写个年终总结吧。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;加首歌试试&lt;/li&gt;
&lt;/ul&gt;
&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;//music.163.com/outchain/player?type=2&amp;id=848867&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;

&lt;hr&gt;
&lt;p&gt;markdown真是好用啊。顺便加上多说评论。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;以下测试&lt;/strong&gt;
    
    </summary>
    
    
      <category term="博客" scheme="http://javazgs.com/tags/%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>欢迎来到我的博客</title>
    <link href="http://javazgs.com/2016/12/20/hello-world/"/>
    <id>http://javazgs.com/2016/12/20/hello-world/</id>
    <published>2016-12-20T06:20:09.498Z</published>
    <updated>2016-12-25T16:42:02.877Z</updated>
    
    <content type="html"><![CDATA[<p>之前鼓捣服务器的时候买了个域名耍耍，空间到期之后域名一直放着，不久前才想起github上能搭个博客能用自定义域名，而且刚好又不需要备案，遂开始鼓捣个博客。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;之前鼓捣服务器的时候买了个域名耍耍，空间到期之后域名一直放着，不久前才想起github上能搭个博客能用自定义域名，而且刚好又不需要备案，遂开始鼓捣个博客。&lt;/p&gt;

    
    </summary>
    
    
      <category term="其他" scheme="http://javazgs.com/tags/%E5%85%B6%E4%BB%96/"/>
    
  </entry>
  
</feed>
